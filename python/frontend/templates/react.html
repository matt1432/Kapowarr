<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script>
        /* Spare dark mode users' eyes */
        const theme = JSON.parse(localStorage['kapowarr_uiSettings'] ?? '{}').theme;
        const isAuto = !theme || theme === 'auto';
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

        if ((isAuto && prefersDark) || theme === 'dark') {
            document.documentElement.style.setProperty('--pageBackground', '#202020');
        }
        else {
            document.documentElement.style.setProperty('--pageBackground', '#f5f7fa');
        }
    </script>

    <style>
        body {
            overflow: hidden;
            background-color: var(--pageBackground);
        }

        .root {
            overflow: hidden;
            height: 100%;
            /* needed for proper layout */
        }

        @media only screen and (max-width: 768px) {
            .root {
                display: flex;
                flex-direction: column;
                min-height: 100%;
                height: auto;
            }
        }
    </style>

    <link rel="manifest" href="{{url_base}}/manifest.json">

    <link rel="stylesheet" href="{{ url_for('static', filename='fonts/fonts.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/react.css') }}">

    <link
        rel="shortcut icon"
        href="{{ url_for('static', filename='img/favicon.svg') }}"
        type="image/x-icon"
    >

    <meta id="url_base" data-value="{{url_base}}">
</head>

<body>
    <div id="portal-root"></div>
    <div id="root" class="root"></div>

    <script
        type="module"
        src="{{ url_for('static', filename='js/react.js') }}"
        defer
    ></script>
</body>

</html>
